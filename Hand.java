import java.util.ArrayList;

abstract class Hand {
	private ArrayList<Card> cards;
	private int aces, val;

	public Hand(Card...cards) {
		val = 0;
		aces = 0;
		this.cards = new ArrayList<Card>(Math.max(3, cards.length));
		for (int i = 0; i < cards.length; i++) {
			add(cards[i]);
		}
	}

	public Hand clear() {
		val = 0;
		aces = 0;
		cards.clear();
		return this;
	}

	void updateVal(Card card) {
		int temp = card.val();
		val += temp;
		if (temp == 11) {
			aces++;
		}

		while ((aces > 0) && (val > 21)) {
			val -= 10;
			aces--;
		}
	}

	public Hand add(Card card) {
		cards.add(card);
		updateVal(card);
		return this;
	}

	public ArrayList<Card> cards() {
		return cards;
	}

	public int size() {
		return cards.size();
	}
	
	public int val() {
		return val;
	}
	
	public Card get(int i) {
		return cards.get(i);
	}

	@Override
	public String toString() {
		return cards.toString();
	}
}
